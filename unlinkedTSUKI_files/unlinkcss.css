.preparing #chiisai-tsuki {
    opacity: 0;
    transition: 1s opacity ease-in; 
}

.preparing #return {
    opacity: 0;
    transition: 1s opacity ease-in; 
}

.preparing #counter {
	transform: scale(1.3);
	transition: 29s transform ease-in;
}

.preparing #vignette {
	opacity: 1;
	transition: 29s opacity ease-in;
}

.preparing #colorlay {
	filter: contrast(2) brightness(2);
	transition: 29s filter ease-in;
}

.final #colorlay {
	filter: contrast(0) brightness(5);
	transition: 1s filter ease-in-out;
}

.final #counter {
	transform: scale(1.5);
	transition: 1s transform cubic-bezier(0,.73,.3,2);
}

body.final {
	background-color: #666;
	transition: 1s background-color ease-in-out;
}

.unlinking #counter {
	transform: scale(0);
	transition: 0.5s transform linear;
}

body.unlinking {
	background-color: #333;
	filter: invert(100%);
	transition: 0.5s background-color ease-in-out, 0.5s filter ease-in-out;
}

.unlinking #shiro {
	opacity: 1;
	transition: 0.5s opacity;
	background-color: #000;
}

.tugofwar #shiro {
	opacity: 0;
	transition: 0.5s opacity;
}

.tugofwar #holder {
    transform: translate(-50%, 0);
    animation: 0.2s shake linear infinite;
}
.tugofwar #timeblock {
    display: none;
}
.tugofwar #addendum {
    display: none;
}
.tugofwar #pmrstatus {
	transform: translate(-50%, 100vh);
}
.tugofwar #axis1,
.tugofwar #axis2,
.tugofwar #axis3,
.tugofwar #axis4 {
    display: none;
}

@keyframes shake {
	0%   { transform: translateX(calc(-50% + -1px)) translateY( 3px); }
	10%  { transform: translateX(calc(-50% +  0px)) translateY(-1px); }
	20%  { transform: translateX(calc(-50% +  2px)) translateY(-2px); }
	30%  { transform: translateX(calc(-50% + -2px)) translateY( 2px); }
	40%  { transform: translateX(calc(-50% +  0px)) translateY(-3px); }
	50%  { transform: translateX(calc(-50% +  3px)) translateY( 1px); }
	60%  { transform: translateX(calc(-50% + -2px)) translateY( 0px); }
	70%  { transform: translateX(calc(-50% +  1px)) translateY( 3px); }
	80%  { transform: translateX(calc(-50% + -2px)) translateY(-2px); }
	90%  { transform: translateX(calc(-50% +  0px)) translateY( 1px); }
	100% { transform: translateX(calc(-50% + -2px)) translateY( 0px); }
}

@keyframes shakeII {
	0%   { transform: translateX(-2px) translateY( 2px); }
	10%  { transform: translateX( 0px) translateY(-4px); }
	20%  { transform: translateX( 4px) translateY(-7px); }
	30%  { transform: translateX(-4px) translateY( 6px); }
	40%  { transform: translateX( 0px) translateY(-4px); }
	50%  { transform: translateX( 6px) translateY( 3px); }
	60%  { transform: translateX(-4px) translateY( 0px); }
	70%  { transform: translateX( 2px) translateY( 6px); }
	80%  { transform: translateX(-4px) translateY(-4px); }
	90%  { transform: translateX( 0px) translateY( 2px); }
	100% { transform: translateX(-6px) translateY( 0px); }
}

.snapping #shiro {
	opacity: 1;
	transition: 0.02s opacity;
}

.snapped .value {
	animation: 0.2s shakeII linear infinite;
}
.snapped .value::before {
    top: 50vw;
    opacity: 0;
    transform: rotate(1400deg);

    transition: 2s top cubic-bezier(.68,-1.08,.9,.6), 2s opacity ease-in, 2s transform ease-out;
}
.snapped #shiro {
	opacity: 0;
	transition: 0.5s opacity;
}

.unlinkready #shiro {
	opacity: 1;
	transition: 0.02s opacity;
}
.unlinked #lifestatus .value {
	left: 150vw;
	transition: 0.5s left ease-out;
}
.unlinked #shiro {
	opacity: 0;
	transition: 0.05s opacity;
}
.unlinked #starfield {
	opacity: 0;
	transition: none;
}

.fadeaway #shiro {
	opacity: 1;
	transition: 1s opacity;
}

body.finalingup {
	background-color: #000;
	filter: invert(0%);
	transition: 1.5s background-color ease-in-out, 1.5s filter ease-in-out;
}

.aftermath #shiro {
	opacity: 0.3;
	transition: 3s opacity;
}
.aftermath #vignette {
	display: none;
}
.aftermath #pmrstatus {
	transform: none;
}
.aftermath #holder {
	animation: none;
}
.aftermath .key {
	box-shadow: none;
	animation: none;
}
.aftermath .value {
	box-shadow: none;
	animation: none;
}
.aftermath .stack {
	animation: none;
	animation: none;
}
.aftermath #lifestatus .value {
	left: 0;
	transition: none;
}

#tbc {
    font-family: ABR;
    position: fixed;
    text-align: center;
    bottom: 24px;
    width: 100vw;
    left: 0;
    font-size: 1.8vw;
    color: #AAA;
    z-index: 1;
    opacity: 0.1;
}